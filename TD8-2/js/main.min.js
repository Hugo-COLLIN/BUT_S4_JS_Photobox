(()=>{var r={URLAPI:"https://webetu.iutnc.univ-lorraine.fr/www/canals5/phox/api",URLbase:"https://webetu.iutnc.univ-lorraine.fr"};function p(t){document.querySelector("#gallery").style.display="none",document.querySelector("#viewer").style.display="block",document.querySelector("#image-view > img").src="",document.querySelector("#image-view > img").src=r.URLbase+t.photo.original.href,document.querySelector("#viewer-head > h2").innerHTML=t.photo.titre}function y(){document.querySelector("#gallery").style.display="block",document.querySelector("#viewer").style.display="none"}var c={displayPicture:p,displayGallery:y};function f(t){let e=document.querySelector("#gallery_container");e.innerHTML="",t.photos.forEach(l=>{let s=document.createElement("div");s.classList.add("thumbnail");let a=document.createElement("img");a.src=r.URLbase+l.photo.thumbnail.href,a.setAttribute("data-photoId",l.photo.id),a.setAttribute("draggable","false"),a.addEventListener("click",()=>{c.displayPicture(l)}),s.appendChild(a),e.appendChild(s)})}var o={displayGallery:f};async function m(t){try{let e=await fetch(r.URLAPI+"/photos/"+t,{credentials:"include"});if(!e.ok)throw new Error("Network response was not OK");return await e.json()}catch(e){console.error(e)}}async function h(t){try{let e=await fetch(r.URLbase+t,{credentials:"include"});if(!e.ok)throw new Error("Network response was not OK");return await e.json()}catch(e){console.error(e)}}var d={loadPicture:m,loadResource:h};async function w(){return i("/www/canals5/phox/api/photos")}async function v(t){let e=t.links.prev.href;return i(e)}async function L(t){let e=t.links.next.href;return i(e)}async function k(t){let e=t.links.first.href;return i(e)}async function E(t){let e=t.links.last.href;return i(e)}async function i(t){return await d.loadResource(t)}var n={load:w,loadPrev:v,loadNext:L,loadFirst:k,loadLast:E};document.querySelector("#close-viewer").addEventListener("click",()=>{c.displayGallery()});document.querySelector("#load_gallery").addEventListener("click",()=>{u()});document.addEventListener("DOMContentLoaded",()=>{u()});function u(){n.load().then(t=>{o.displayGallery(t),document.querySelector("#previous_page").addEventListener("click",()=>{n.loadPrev(t).then(e=>{t=e,o.displayGallery(e)})}),document.querySelector("#next_page").addEventListener("click",()=>{n.loadNext(t).then(e=>{t=e,o.displayGallery(e)})}),document.querySelector("#first_page").addEventListener("click",()=>{n.loadFirst(t).then(e=>{t=e,o.displayGallery(e)})}),document.querySelector("#last_page").addEventListener("click",()=>{n.loadLast(t).then(e=>{t=e,o.displayGallery(e)})})})}})();
//# sourceMappingURL=main.min.js.map
