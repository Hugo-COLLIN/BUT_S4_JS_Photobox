{
  "version": 3,
  "sources": ["modules/config.js", "modules/ui.js", "modules/gallery_ui.js", "modules/photoloader.js", "modules/gallery.js", "main.js"],
  "sourcesContent": ["export default {\r\n  URLAPI: \"https://webetu.iutnc.univ-lorraine.fr/www/canals5/phox/api\",\r\n  URLbase: \"https://webetu.iutnc.univ-lorraine.fr\"\r\n}", "import config from \"./config.js\";\r\n\r\nfunction displayPicture(photo)\r\n{\r\n  document.querySelector(\"#gallery\").style.display = \"none\";\r\n  document.querySelector(\"#viewer\").style.display = \"block\";\r\n  document.querySelector(\"#image-view > img\").src = \"\";\r\n  document.querySelector(\"#image-view > img\").src = config.URLbase + photo.photo.original.href;\r\n  document.querySelector(\"#viewer-head > h2\").innerHTML = photo.photo.titre;\r\n}\r\n\r\nfunction displayGallery()\r\n{\r\n  document.querySelector(\"#gallery\").style.display = \"block\";\r\n  document.querySelector(\"#viewer\").style.display = \"none\";\r\n}\r\n\r\nexport default {\r\n  displayPicture: displayPicture,\r\n  displayGallery: displayGallery\r\n}", "import config from \"./config.js\";\r\nimport ui from \"./ui.js\";\r\n\r\nfunction displayGallery(gallery) {\r\n  const photosElt = document.querySelector(\"#gallery_container\");\r\n  photosElt.innerHTML = \"\";\r\n\r\n  gallery.photos.forEach(photo => {\r\n    const vignetteDiv = document.createElement(\"div\");\r\n    vignetteDiv.classList.add(\"thumbnail\");\r\n\r\n    const imgElement = document.createElement(\"img\");\r\n    imgElement.src = config.URLbase + photo.photo.thumbnail.href;\r\n    imgElement.setAttribute(\"data-photoId\", photo.photo.id);\r\n    imgElement.setAttribute(\"draggable\", \"false\");\r\n\r\n    imgElement.addEventListener(\"click\", () => {\r\n      ui.displayPicture(photo);\r\n    });\r\n\r\n    vignetteDiv.appendChild(imgElement);\r\n    photosElt.appendChild(vignetteDiv);\r\n  });\r\n}\r\n\r\nexport default {\r\n  displayGallery: displayGallery\r\n}", "import config from \"./config.js\";\r\n\r\nasync function loadPicture(idPicture) {\r\n  try {\r\n    const response = await fetch(config.URLAPI + \"/photos/\" + idPicture, { credentials: 'include' });\r\n    if (!response.ok) {\r\n      throw new Error(\"Network response was not OK\");\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nasync function loadResource(uri) {\r\n  try {\r\n    const response = await fetch(config.URLbase + uri, { credentials: 'include' });\r\n    if (!response.ok) {\r\n      throw new Error(\"Network response was not OK\");\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport default {\r\n  loadPicture: loadPicture,\r\n  loadResource: loadResource\r\n}", "import photoloader from \"./photoloader.js\";\r\n\r\nasync function loadDefault() {\r\n  const uri = \"/www/canals5/phox/api/photos\";\r\n  return load(uri);\r\n}\r\n\r\nasync function loadPrev(gallery) {\r\n  const uri = gallery.links.prev.href;\r\n  return load(uri);\r\n}\r\n\r\nasync function loadNext(gallery) {\r\n  const uri = gallery.links.next.href;\r\n  return load(uri);\r\n}\r\n\r\nasync function loadFirst(gallery) {\r\n  const uri = gallery.links.first.href;\r\n  return load(uri);\r\n}\r\n\r\nasync function loadLast(gallery) {\r\n  const uri = gallery.links.last.href;\r\n  return load(uri);\r\n}\r\n\r\nasync function load(uri)\r\n{\r\n  return await photoloader.loadResource(uri);\r\n}\r\n\r\nexport default {\r\n  load: loadDefault,\r\n  loadPrev: loadPrev,\r\n  loadNext: loadNext,\r\n  loadFirst: loadFirst,\r\n  loadLast: loadLast\r\n}", "import gallery_ui from \"./modules/gallery_ui.js\";\r\nimport gallery from \"./modules/gallery.js\";\r\nimport ui from \"./modules/ui.js\";\r\n\r\ndocument.querySelector(\"#close-viewer\").addEventListener(\"click\", () => {\r\n  ui.displayGallery();\r\n});\r\n\r\ndocument.querySelector(\"#load_gallery\").addEventListener(\"click\", () => {\r\n  loadGallery();\r\n});\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  loadGallery();\r\n});\r\n\r\nfunction loadGallery() {\r\n  gallery.load().then((galleryInit) => {\r\n    gallery_ui.displayGallery(galleryInit);\r\n\r\n    document.querySelector(\"#previous_page\").addEventListener(\"click\", () => {\r\n      gallery.loadPrev(galleryInit).then((galleryPrev) => {\r\n        galleryInit = galleryPrev;\r\n        gallery_ui.displayGallery(galleryPrev);\r\n      });\r\n    });\r\n\r\n    document.querySelector(\"#next_page\").addEventListener(\"click\", () => {\r\n      gallery.loadNext(galleryInit).then((galleryNext) => {\r\n        galleryInit = galleryNext;\r\n        gallery_ui.displayGallery(galleryNext);\r\n      });\r\n    });\r\n\r\n    document.querySelector(\"#first_page\").addEventListener(\"click\", () => {\r\n      gallery.loadFirst(galleryInit).then((galleryFirst) => {\r\n        galleryInit = galleryFirst;\r\n        gallery_ui.displayGallery(galleryFirst);\r\n      });\r\n    });\r\n\r\n    document.querySelector(\"#last_page\").addEventListener(\"click\", () => {\r\n      gallery.loadLast(galleryInit).then((galleryLast) => {\r\n        galleryInit = galleryLast;\r\n        gallery_ui.displayGallery(galleryLast);\r\n      });\r\n    });\r\n\r\n  });\r\n}"],
  "mappings": "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",
  "names": ["config_default", "displayPicture", "photo", "config_default", "displayGallery", "ui_default", "displayGallery", "gallery", "photosElt", "photo", "vignetteDiv", "imgElement", "config_default", "ui_default", "gallery_ui_default", "loadPicture", "idPicture", "response", "config_default", "error", "loadResource", "uri", "photoloader_default", "loadDefault", "load", "loadPrev", "gallery", "uri", "loadNext", "loadFirst", "loadLast", "photoloader_default", "gallery_default", "ui_default", "loadGallery", "gallery_default", "galleryInit", "gallery_ui_default", "galleryPrev", "galleryNext", "galleryFirst", "galleryLast"]
}
